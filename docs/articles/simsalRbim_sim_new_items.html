<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>simsalRbim - Simulating new items • simsalRbim</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="simsalRbim - Simulating new items">
<meta property="og:description" content="simsalRbim">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simsalRbim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/simsalRbim_examples.html">simsalRbim Examples</a>
    </li>
    <li>
      <a href="../articles/simsalRbim_quality_measures.html">simsalRbim - Quality measures for worth evaluation</a>
    </li>
    <li>
      <a href="../articles/simsalRbim_sim_new_items.html">simsalRbim - Simulating new items</a>
    </li>
    <li>
      <a href="../articles/simsalRbim_vignette.html">simsalRbim</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mytalbot/simsalRbim/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="simsalRbim_sim_new_items_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="simsalRbim_sim_new_items_files/kePrint-0.0.1/kePrint.js"></script><link href="simsalRbim_sim_new_items_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>simsalRbim - Simulating new items</h1>
                        <h4 class="author">Steven R. Talbot</h4>
                        <h4 class="author">Dana Pfefferle</h4>
                        <h4 class="author">Ralf Brockhausen</h4>
                        <h4 class="author">Lars Lewejohann</h4>
            
            <h4 class="date">2022-05-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mytalbot/simsalRbim/blob/master/vignettes/simsalRbim_sim_new_items.Rmd"><code>vignettes/simsalRbim_sim_new_items.Rmd</code></a></small>
      <div class="hidden name"><code>simsalRbim_sim_new_items.Rmd</code></div>

    </div>

    
    
<div id="preference-tests" class="section level2">
<h2 class="hasAnchor">
<a href="#preference-tests" class="anchor"></a>Preference tests</h2>
<p>Preference tests are a way of testing the “wants” of individuals and can be used in various experimental setups. Especially in the animal sciences, these methods are used in many applications. Usually, scientists will have to “do” the experiments to determine the “wants” of subjects. Unfortunately, these experiments cost time and money or require intricate gadgets to say that animal N.N. prefers substance “A” over “B”. In addition, experiments that include a lot of test item combinations can quickly become a drain on resources. Therefore, we propose the simsalRbim package in which we present numerous functions to estimate, evaluate and simulate preference tests with complete and missing data. In addition, we make intensive use of the prefmod <span class="citation">[1]</span> package that uses a log-linear Bradley-Terry model (LLBT) to calculate “worth values” from the equation coefficients so that items can be ranked.</p>
<p>So, how does this help us save resources?<br>
– we’ll simulate items that we haven’t tested!</p>
<p>But, there is…</p>
</div>
<div id="a-problem-with-the-unknown" class="section level2">
<h2 class="hasAnchor">
<a href="#a-problem-with-the-unknown" class="anchor"></a>A problem with the “unknown”</h2>
<p>The simulation of an item of which one has limited knowledge is a good starting point for estimating its putative position on the worth scale. However, this means, e.g., that only limited item combination tests have been experimentally tested, and others not. This leaves us with “open” positions on the item combinations for which no worth value can be calculated. The simsalRbim package takes advantage of how the prefmod package works and fills open positions randomly with the discrete results of the underlying model. These values can assume the numbers -1 (B &gt; A), 0 (tie, A=B), and 1 (A &lt; B) for each open item combination. By repeating the simulations <em>i</em>-times with the items from the Ground Truth, the model eventually runs into saturation due to the limited degrees of freedom that the item combinations provide.</p>
<p>To provide the user with a measure to evaluate the outcome of these simulations, we suggest two criteria: a) the Consensus Error (CE) and b) the intransitivity Ratio (Iratio), which will help identify “good” simulation results. In the case of “sufficiently” long simulation runs and more tested item combinations, the Iratio eventually gets smaller (e.g., Iratio=0 means zero intransitivity). Unfortunately, the number of required simulation runs is a heuristic (highly data-dependent). However, together with the CE, the Iratio provides a decision criterion for accepting the simulated position of a new item. For more information, see the <a href="https://talbotsr.com/simsalRbim/articles/simsalRbim_quality_measures.html">explanation of the two measures</a>.</p>
</div>
<div id="example-simulation-hoihoihoi" class="section level2">
<h2 class="hasAnchor">
<a href="#example-simulation-hoihoihoi" class="anchor"></a>Example simulation: HoiHoiHoi</h2>
<p>The ZickeZacke data within the simsalRbim package contains the “HoiHoiHoi” item, that has only been rated by 3 individuals (“eins”, “zwei”, “vier”) in the “Kacke” item (<a href="https://talbotsr.com/simsalRbim/articles/simsalRbim_quality_measures.html">see</a>). No other item has been tested with “HoiHoiHoi”.</p>
<p>The worth analysis with the “HoiHoiHoi” item shows that it ranks on position No. 2 (<a href="https://talbotsr.com/simsalRbim/articles/simsalRbim_examples.html">see</a>). Let’s test this by simulating “HoiHoiHoi” in 100 runs using the <code>simsim</code> function.</p>
<p><strong>Please note:</strong> The user can specify a true position (<code>truepos</code>, here=2) if a specific position is known or should be tested. If <code>truepos</code>=NULL, no such evaluation takes place. This would be the default option when testing a new item. When the <code>path</code> is specified, the results will be saved to that location as a *.txt file. The <code>runs</code> object specifies the number of simulations that are run.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Does the simulation of HoiHoiHoi at the given Ground Truth (GT)</span>
<span class="va">data</span>       <span class="op">&lt;-</span> <span class="va">ZickeZacke</span>
<span class="va">hoihoihoi</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simsim.html">simsim</a></span><span class="op">(</span>data      <span class="op">=</span> <span class="va">data</span>,
                      simOpt   <span class="op">=</span> <span class="st">"HoiHoiHoi"</span>,
                      GT       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Zicke"</span>,<span class="st">"Zacke"</span>,<span class="st">"Huehner"</span>, <span class="st">"Kacke"</span><span class="op">)</span>,
                      runs     <span class="op">=</span> <span class="fl">100</span>,
                      truepos  <span class="op">=</span> <span class="fl">2</span>,
                      seeding  <span class="op">=</span> <span class="cn">TRUE</span>,
                      path     <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
<div id="simulation-result" class="section level3">
<h3 class="hasAnchor">
<a href="#simulation-result" class="anchor"></a>Simulation result</h3>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
item
</th>
<th style="text-align:right;">
pos
</th>
<th style="text-align:right;">
worth
</th>
<th style="text-align:right;">
Iratio
</th>
<th style="text-align:right;">
CE
</th>
<th style="text-align:right;">
tp_frq
</th>
<th style="text-align:right;">
tp
</th>
<th style="text-align:right;">
total
</th>
<th style="text-align:left;">
against
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
50.00
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zicke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.22
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
12.50
</td>
<td style="text-align:right;">
0.40
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.14
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
37.50
</td>
<td style="text-align:right;">
0.42
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Huehner
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.55
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
18.75
</td>
<td style="text-align:right;">
0.59
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Kacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.16
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
62.50
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zicke,Zacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.29
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
25.00
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zicke,Huehner
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.18
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
25.00
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zacke,Huehner
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
43.75
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zicke,Kacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.11
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
68.75
</td>
<td style="text-align:right;">
0.58
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zacke,Kacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
43.75
</td>
<td style="text-align:right;">
0.40
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Huehner,Kacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.18
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
25.00
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zicke,Zacke,Huehner
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.17
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
18.75
</td>
<td style="text-align:right;">
0.71
</td>
<td style="text-align:right;">
71
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zicke,Zacke,Kacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.15
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
56.25
</td>
<td style="text-align:right;">
0.44
</td>
<td style="text-align:right;">
44
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zicke,Huehner,Kacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.36
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
43.75
</td>
<td style="text-align:right;">
0.64
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zacke,Huehner,Kacke
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.25
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
31.25
</td>
<td style="text-align:right;">
0.62
</td>
<td style="text-align:right;">
62
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
Zicke,Zacke,Huehner,Kacke
</td>
</tr>
</tbody>
</table>
<p><strong>pos:</strong> the simulated item position (based on Iratio and CE)<br><strong>worth:</strong> the average worth value obtained from the simulation<br><strong>Irato:</strong> the Iratio (the lower, the better)<br><strong>CE:</strong> the Consensus Error (the lower, the better)<br><strong>tp_frq:</strong> the frequency of true positive results (gets lower with more items)<br><strong>tp:</strong> the absolute tp counts in the simulation<br><strong>total:</strong> the number of simulation runs<br><strong>against:</strong> the items that simOpt was tested against</p>
<p>Note that the simulations did a decent job in finding pos=2 for the “HoiHoiHoi” item - given the fact, that it was only tested with 1 other item and 3 subjects. The CE error remains relatively large and the Iratio is low from the beginning. The fraction of true positives should improve when more actual data/tests are provided.</p>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-prefmodcit">
<p>1. Hatzinger R, Dittrich R: <strong>prefmod: An R Package for Modeling Preferences Based on Paired Comparisons, Rankings, or Ratings</strong>. <span class="csl-baseline"><em>Journal of Statistical Software</em></span> 2012, <strong>48</strong>:1–31.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Steven Talbot, Dana Pfefferle, Ralf Brockhausen, Lars Lewejohann.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
