<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>simsalRbim Examples • simsalRbim</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="simsalRbim Examples">
<meta property="og:description" content="simsalRbim">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simsalRbim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/simsalRbim_examples.html">simsalRbim Examples</a>
    </li>
    <li>
      <a href="../articles/simsalRbim_vignette.html">simsalRbim</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="simsalRbim_examples_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="simsalRbim_examples_files/kePrint-0.0.1/kePrint.js"></script><link href="simsalRbim_examples_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>simsalRbim Examples</h1>
                        <h4 class="author">Steven R. Talbot</h4>
            
      
      
      <div class="hidden name"><code>simsalRbim_examples.Rmd</code></div>

    </div>

    
    
<div id="preference-tests" class="section level2">
<h2 class="hasAnchor">
<a href="#preference-tests" class="anchor"></a>Preference Tests</h2>
<p>For the purpose of this Vignette, we will use the artificial ZickeZacke data. This is a ‘perfect’ set of preference tests that comes with this package, in which every subject was tested with every provided item. However, the data contain one item that was not tested with all subjects and also contains two ties (‘HoiHoiHoi’). Let’s see if we can evaluate the item’s position. For this purpose, we will employ three different strategies which are covered by the following examples.</p>
<div id="example-1---the-calculation-of-worth-values" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1---the-calculation-of-worth-values" class="anchor"></a>Example 1 - The calculation of worth values</h3>
<p>First the data are loaded. In this example the internal data are used. You can use the <code>bimload</code> function to import data from a variety of formats.</p>
<p>Next, an item that shall be tested is required (simOpt) and a Ground Truth (GT) of items that it is tested with. These entries depend on the data structure. Any items that are not listed here, will not be used in the analyis. This may lead to incomplete conclusions. So be careful what you put in here…</p>
<p>These information are then put into the <code>bimpre</code> function which does some pre-processing. Also, ties are identified. As you can see from the example below, the ties were marked in the ‘tie’ column.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span>        <span class="op">&lt;-</span> <span class="va">ZickeZacke</span>

<span class="va">simOpt</span>     <span class="op">&lt;-</span> <span class="st">"HoiHoiHoi"</span>
<span class="va">GT</span>         <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Zicke"</span>, <span class="st">"Zacke"</span>, <span class="st">"Huehner"</span>, <span class="st">"Kacke"</span> <span class="op">)</span>

<span class="va">predat</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bimpre.html">bimpre</a></span><span class="op">(</span>dat<span class="op">=</span><span class="va">dat</span>, GT<span class="op">=</span><span class="va">GT</span>, simOpt<span class="op">=</span><span class="va">simOpt</span><span class="op">)</span>
<span class="co">#&gt; simsalRbim: ties were marked.</span></code></pre></div>
<p>In the next step, we will calculate the worth values of the item. This uses a non-linear GNM model to model the data and transforms the estimates into worth values. In the <code>showPlot</code> object, you can choose between the worth values or the model coefficients (“coef”).</p>
<p>Note, that when <code>randOP</code> is set to TRUE, the attribution of ties in terms of the dependent results variable in the GNM model will be random. Each time this function is executed, the worth values will change. This is an integral part of this package and will be used in the simulations later.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">worth</span>      <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bimworth.html">bimworth</a></span><span class="op">(</span>ydata    <span class="op">=</span> <span class="va">predat</span>,
                       GT       <span class="op">=</span> <span class="va">GT</span>,
                       simOpt   <span class="op">=</span> <span class="va">simOpt</span>,
                       randOP   <span class="op">=</span> <span class="cn">FALSE</span>,
                       showPlot <span class="op">=</span> <span class="st">"worth"</span><span class="op">)</span></code></pre></div>
<p><img src="simsalRbim_examples_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
<p>As you can see, the item “HoiHoiHoi” appears to be marginally better than “Zacke”. But what can we actually say about the general data quality of this plot? Maybe only a fraction of individuals were tested, or just some items and not all of them. When data are large this becomes difficult to evaluate.</p>
<p>Therefore, we will use the <code>bimeval</code> function to evaluate the data together with the worth values. The results will be visualized as a bubble plot.</p>
<p>Also, with these data, there will be two <strong>warnings</strong>. This is intentional.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">w_errors</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bimeval.html">bimeval</a></span><span class="op">(</span>ydata    <span class="op">=</span> <span class="va">predat</span>, 
                      worth    <span class="op">=</span> <span class="va">worth</span>, 
                      GT       <span class="op">=</span> <span class="va">GT</span>, 
                      simOpt   <span class="op">=</span> <span class="va">simOpt</span>,
                      showPlot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; Warning in bimeval(ydata = predat, worth = worth, GT = GT, simOpt = simOpt, : simsalRbim: No. of SUBJECTS WARNING!</span>
<span class="co">#&gt;                 The number of subjects you have provided for testing the simOpt='HoiHoiHoi' item is probably insufficient!</span>
<span class="co">#&gt;                 Try increasing the number of subjects.</span>
<span class="co">#&gt;                 You are currently below 80% data coverage for that item.</span>
<span class="co">#&gt;                 Your provided-to-simulated subjects ratio is at: 50%.</span>
<span class="co">#&gt; Warning in bimeval(ydata = predat, worth = worth, GT = GT, simOpt = simOpt, : simsalRbim: No. of ITEMS WARNING!</span>
<span class="co">#&gt;                 The number of item tests you have provided for testing the simOpt='HoiHoiHoi' item is probably insufficient!</span>
<span class="co">#&gt;                 Try increasing the number of item combinations.</span>
<span class="co">#&gt;                 You are currently below 80% item coverage for that item.</span>
<span class="co">#&gt;                 Your provided-to-simulated items ratio is at: 40%.</span></code></pre></div>
<p><img src="simsalRbim_examples_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
<p>The warnings indicate that the number of subjects tested maybe too low. The second warning shows the same for the number of items tested. In order to get more reliable results, both should be increased.</p>
<p>The bubbleplot shows the consensus error of each item. This means, the smaller the bubble (or error), the more agreement there is between subjects regarding the positioning of the respective item. With this tool we can assume that the position of ‘Zicke’ at zero % error is secure. There was full agreement of all subjects on the positioning of that item. However, ‘HoiHoiHoi’ shows 25% disagreement. Take this together with the warnings from above, the positioning of this item is relatively insecure. It might be in position 2 or 3…</p>
</div>
</div>
<div id="example-2---uninformed-item-position-simulation" class="section level2">
<h2 class="hasAnchor">
<a href="#example-2---uninformed-item-position-simulation" class="anchor"></a>Example 2 - uninformed item position simulation</h2>
<p>From the example above we know that for the inclusion of ties, the results of the preference test can be randomized. In the GNM it does not matter whether the test was binary or continuous. The preprocessing took care of that. However, for a certain amount of combinations, this leaves a number of degrees of freedom that can be modeled in the GNM. This logic is used in the <code>bimUninformed</code> function to simulate an **uninformed*’** worth calculation for optimal item positioning.</p>
<p>This procedure is called ‘uninformed’ because it uses no <em>a priori</em> knowledge about the transitivity of items. It is assumed that all choices in the preference test were correct.</p>
<p>For any number of randomization steps, an ANOVA with a MCP correction is used to compare the worth values. As long as they are not significantly different, the items’ position can be challenged. At a limited number of degrees of freedom this will eventually lead into a saturation of the mean adjusted p-value. Starting at relatively large confidence levels, the errors will become smaller and once the p-value hits zero, the cutoff is found. For ambiguous data this can mean a lot of required randomizations. <strong>This is a heuristic!</strong> So, be prepared to try this out manually for your data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># We will run 100 randomizations in this example to find the optimal cutoff</span>
<span class="va">cutoff</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bimUninformed.html">bimUninformed</a></span><span class="op">(</span>ydata      <span class="op">=</span> <span class="va">predat</span>, 
                            GT         <span class="op">=</span> <span class="va">GT</span>,
                            simOpt     <span class="op">=</span> <span class="va">simOpt</span>, 
                            limitToRun <span class="op">=</span> <span class="fl">100</span>, 
                            ylim       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">)</span></code></pre></div>
<p><img src="simsalRbim_examples_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cutoff</span><span class="op">$</span><span class="va">cutoff</span>
<span class="co">#&gt; [1] 65</span></code></pre></div>
<p>The simulation shows that the optimal cutoff for the data is at 65 randomizations.</p>
<p>This result can be displayed with 95% confidence intervals using the <code>bimpos</code> function. Here, we will insert the number of required randomizations.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pos</span>        <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bimpos.html">bimpos</a></span><span class="op">(</span>ydata      <span class="op">=</span> <span class="va">predat</span>, 
                     GT         <span class="op">=</span> <span class="va">GT</span>, 
                     simOpt     <span class="op">=</span> <span class="va">simOpt</span>, 
                     limitToRun <span class="op">=</span> <span class="va">cutoff</span><span class="op">$</span><span class="va">cutoff</span>, <span class="co"># 65</span>
                     showPlot   <span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span></code></pre></div>
<p><img src="simsalRbim_examples_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
item
</th>
<th style="text-align:right;">
Mean.W
</th>
<th style="text-align:right;">
SD.W
</th>
<th style="text-align:right;">
n.W
</th>
<th style="text-align:right;">
se.W
</th>
<th style="text-align:right;">
lower.ci.W
</th>
<th style="text-align:right;">
upper.ci.W
</th>
<th style="text-align:right;">
pos
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Zicke
</td>
<td style="text-align:right;">
0.6053021
</td>
<td style="text-align:right;">
0.0896190
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
0.0111159
</td>
<td style="text-align:right;">
0.5830956
</td>
<td style="text-align:right;">
0.6275086
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
HoiHoiHoi
</td>
<td style="text-align:right;">
0.1871260
</td>
<td style="text-align:right;">
0.0811795
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
0.0100691
</td>
<td style="text-align:right;">
0.1670107
</td>
<td style="text-align:right;">
0.2072413
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Zacke
</td>
<td style="text-align:right;">
0.1406748
</td>
<td style="text-align:right;">
0.0146409
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
0.0018160
</td>
<td style="text-align:right;">
0.1370469
</td>
<td style="text-align:right;">
0.1443026
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Huehner
</td>
<td style="text-align:right;">
0.0523842
</td>
<td style="text-align:right;">
0.0172419
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
0.0021386
</td>
<td style="text-align:right;">
0.0481119
</td>
<td style="text-align:right;">
0.0566565
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Kacke
</td>
<td style="text-align:right;">
0.0145130
</td>
<td style="text-align:right;">
0.0019947
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
0.0002474
</td>
<td style="text-align:right;">
0.0140187
</td>
<td style="text-align:right;">
0.0150073
</td>
<td style="text-align:right;">
5
</td>
</tr>
</tbody>
</table>
<p>The table shows the estimated mean worth values with errors. All values are sorted in the correct order. The items’ positions are now clear as there are no overlapping confidence intervals.</p>
<p>From the evaluation above our confidence in the positioning of ‘HoiHoiHoi’ was low. Now we can be rather sure that it is in position 2. If in doubt, increase the number of randomizations until the items are separated.</p>
</div>
<div id="example-3---informed-item-position-simulation" class="section level2">
<h2 class="hasAnchor">
<a href="#example-3---informed-item-position-simulation" class="anchor"></a>Example 3 - informed item position simulation</h2>
<p>In the last example, we will perform an <strong>informed</strong> simulation of the data. By calculating the intransitivity of the item combinations, we can estimate which choices were wrong and include this in our evaluation. We will use a frequency distribution to finally decide on the tested item’s position.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">frqnc</span>      <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bimsim.html">bimsim</a></span><span class="op">(</span>ydata       <span class="op">=</span> <span class="va">predat</span>,
                     GT          <span class="op">=</span> <span class="va">GT</span>,
                     simOpt      <span class="op">=</span> <span class="va">simOpt</span>, 
                     limitToRun  <span class="op">=</span> <span class="fl">78</span>,
                     fval        <span class="op">=</span> <span class="fl">1</span>, 
                     showPlot    <span class="op">=</span> <span class="cn">TRUE</span>, 
                     ylim        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.7</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="simsalRbim_examples_files/figure-html/unnamed-chunk-9-1.png" width="576"></p>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
Var1
</th>
<th style="text-align:right;">
Freq
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.7051
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.2692
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.0256
</td>
</tr>
</tbody>
</table>
<p>The table shows, that the items with a low intransitivity ratio (Iratio) are mostly in position 2. Therefore, for the ‘HoiHoiHoi’ item, we can opt for position 2.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Steven Talbot, Dana Pfefferle, Ralf Brockhausen, Lars Lewejohann.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
