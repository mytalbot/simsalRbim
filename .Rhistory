p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 1.4, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position = c(0.95, 0.4),
legend.justification = c("right", "top"))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0,0.45))
# remember: we want mean_delta to be high (close to 50%)
w_errors
### Wishlist umsetzen
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 1.4, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position = c(0.95, 0.8),
legend.justification = c("right", "top"))
p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.4, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position = c(0.95, 0.8),
legend.justification = c("right", "top"))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0,0.45))
# remember: we want mean_delta to be high (close to 50%)
w_errors
### Wishlist umsetzen
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position = c(0.95, 0.8),
legend.justification = c("right", "top"))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0,0.45))
# remember: we want mean_delta to be high (close to 50%)
w_errors
### Wishlist umsetzen
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position  = c(0.95, 0.9),
legend.justification = c("right", "top"))
p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position  = c(0.95, 0.95),
legend.justification = c("right", "top"))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0,0.45))
# remember: we want mean_delta to be high (close to 50%)
w_errors
### Wishlist umsetzen
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position  = c(0.95, 0.97),
legend.justification = c("right", "top"))
p
# ZickeZacke w/ HoiHoiHoi item  -------------------------------------------
library(simsalRbim)
dat        <- ZickeZacke
simOpt     <- "HoiHoiHoi"
GT         <- c("Zicke","Zacke","Huehner", "Kacke")
predat     <- bimpre (dat=dat, GT=GT, simOpt=simOpt)
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
randOP   = TRUE,
intrans  = TRUE,
showPlot = "worth")
worth
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE )
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position  = c(0.95, 0.97),
legend.justification = c("right", "top"))
p
# ZickeZacke w/ HoiHoiHoi item  -------------------------------------------
library(simsalRbim)
dat        <- ZickeZacke
simOpt     <- "HoiHoiHoi"
GT         <- c("Zicke","Zacke","Huehner", "Kacke")
predat     <- bimpre (dat=dat, GT=GT, simOpt=simOpt)
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
randOP   = TRUE,
intrans  = TRUE,
showPlot = "worth")
worth
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
ylim      = c(0,0.45))
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position  = c(0.95, 0.97),
legend.justification = c("right", "top"))
p
w_errors$p
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
#legend.position  = c(0.95, 0.97),
legend.justification = c("left", "bottom"))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
ylim      = c(0,0.45))
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
#p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
#legend.position  = c(0.95, 0.97),
legend.justification = c("left", "bottom"))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
ylim      = c(0,0.45))
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "bottom", legend.justification = c("left"))
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
ylim      = c(0,0.45))
w_errors
# ZickeZacke w/ HoiHoiHoi item  -------------------------------------------
library(simsalRbim)
dat        <- ZickeZacke
simOpt     <- "HoiHoiHoi"
GT         <- c("Zicke","Zacke","Huehner", "Kacke")
predat     <- bimpre (dat=dat, GT=GT, simOpt=simOpt)
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
randOP   = TRUE,
intrans  = TRUE,
showPlot = "worth")
worth
library(simsalRbim)
dat        <- ZickeZacke
simOpt     <- "HoiHoiHoi"
GT         <- c("Zicke","Zacke","Huehner", "Kacke")
predat     <- bimpre (dat=dat, GT=GT, simOpt=simOpt)
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
randOP   = TRUE,
intrans  = TRUE,
showPlot = "worth")
worth
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
ylim      = c(0,1))
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "bottom", legend.justification = c("left"))
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
ylim      = c(0,1))
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "bottom", legend.justification = c("left"))
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p
dat        <- ZickeZacke
simOpt     <- "HoiHoiHoi"
GT         <- c("Zicke","Zacke","Huehner", "Kacke")
predat     <- bimpre (dat=dat, GT=GT, simOpt=simOpt)
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
randOP   = TRUE,
intrans  = TRUE,
showPlot = "worth")
worth
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
ylim      = c(0,1))
w_errors
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
subtitle  = TRUE,
ylim      = c(0,1))
w_errors
p <- w_errors$p
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "bottom", legend.justification = c("left"))
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
subtitle  = FALSE,
ylim      = c(0,1))
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "bottom", legend.justification = c("left"))
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE ,
subtitle  = NULL,
ylim      = c(0,1))
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "bottom", legend.justification = c("left"))
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p
#  Perfect use case with no randomized items ------------------------------
dat        <- bimload("C:/MHH Bleich/Aktuelles/PrePrefPackage 2020/data/ZickeZackelinear.txt")
simOpt     <- "Zicke"
GT         <- c("Huehner", "Kacke", "Zacke")
predat     <- bimpre (dat=dat, GT=GT, simOpt=simOpt )
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
intrans  = TRUE,
verbose  = TRUE,
showPlot = "worth") # or "coef"
worth
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0,0.45))
# remember: we want mean_delta to be high (close to 50%)
w_errors
### Wishlist umsetzen
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "none")
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p <- p +   theme(
legend.position  = c(0.95, 0.97),
legend.justification = c("right", "top"))
p
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0,0.45))
# remember: we want mean_delta to be high (close to 50%)
w_errors
### Wishlist umsetzen
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "bottom", legend.justification = c("left"))
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p
# Human Large Valence (Spring School) -------------------------------------
dat        <- bimload("C:/MHH Bleich/Aktuelles/PrePrefPackage 2020/data/human_LagreValenceRange_SpringSchool.txt")
simOpt     <- "Lake"
GT         <- c("Frustrated","Crow","War","Cat","Doctor", "Fire")
predat     <- bimpre (dat=dat, GT=GT, simOpt=simOpt)
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
intrans  = TRUE,
showPlot = "worth")
worth
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0, 0.45))
w_errors
p <- w_errors$p
p <- p + theme(plot.title        = element_text(hjust = 0.5))
p <- p +  theme(legend.position  = "bottom", legend.justification = c("left"))
p <- p+ labs(title = "Very important title") +
theme(plot.title = element_text(hjust = 0.5) )
p <- p + annotate("text", x = 0.6, y = 0.44, size=4.5,
label = paste("Mean CE=",round(mean(w_errors$errors$CE),2),"% ",sep=""))
p
# Maus - Mice_oneLineTest1_20201102DP -------------------------------------
dat        <- bimload ("C:/MHH Bleich/Aktuelles/PrePrefPackage 2020/data/Mice_oneLineTest1_20201102DP.txt")
simOpt     <- "water"
GT         <- c("HCl","m5MSac",  "m10MSac", "NaCl"   )
predat     <- bimpre (dat=dat, GT=GT, simOpt=simOpt, deviation=0, minQuantity=0)
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
intrans  = TRUE ,
showPlot = "worth")
worth
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0, 0.45))
w_errors
library(simsalRbim)
# Human Large Valence (Spring School) -------------------------------------
human    <- bimload("C:/MHH Bleich/Aktuelles/PrePrefPackage 2020/data/human_LagreValenceRange_SpringSchool.txt")
default  <- human[!(human$optionA=="Lake" | human$optionB=="Lake"),]
testset  <- human[(human$optionA=="Lake"| human$optionB=="Lake"),]
sim_func <- function (A, B){
testset[((testset$optionA=="Lake" & testset$optionB == A) | (testset$optionA == A & testset$optionB=="Lake") |
(testset$optionA=="Lake" & testset$optionB == B) | (testset$optionA == B & testset$optionB=="Lake") ),]
}
test     <- sim_func("Cat","Crow")
dat_sim  <- rbind(default,test)
dat_sim[dat_sim$optionA=="Lake", ]
# Calculations
simOpt     <- "Lake"
#GT         <- c("Frustrated","Crow","War","Cat","Doctor", "Fire")
GT         <- c("Crow", "Cat" )
predat     <- bimpre (dat=dat_sim, GT=GT, simOpt=simOpt)
worth      <- bimworth(ydata    = predat,
GT       = GT,
simOpt   = simOpt,
randOP   = TRUE,
intrans  = TRUE,
showPlot = "worth")
worth
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0, 0.45))
w_errors
w_errors   <- bimeval(ydata     = predat,
worth     = worth$worth,
GT        = GT,
simOpt    = simOpt,
showPlot  = TRUE,
ylim      = c(0, 1))
w_errors
# uninformed simulation  - cutoff determination
cutoff     <- bimUninformed(ydat       = predat,
GT         = GT,
simOpt     = simOpt,
limitToRun = 20,
ylim       = c(-1,2) )
cutoff$cutoff
pos        <- bimpos(ydata=predat, GT=GT, simOpt=simOpt, limitToRun=cutoff$cutoff, showPlot=TRUE )
pos$simerrors
library(simsalRbim)
# INFORMED Simulation - INTRANSITIVITY RUN
frqnc      <- bimsim(rawdat      = dat_sim,
GT          = GT,
simOpt      = simOpt,
limitToRun  = 20,
tcut        = 0,
filter.crit ="Iratio",
deviation=0,
minQuantity=0,
seed=TRUE,
showPlot=TRUE,
ylim        = c(0,0.45))
frqnc$frq
# INFORMED Simulation - INTRANSITIVITY RUN
frqnc      <- bimsim(rawdat      = dat_sim,
GT          = GT,
simOpt      = simOpt,
limitToRun  = 20,
tcut        = 0,
filter.crit ="Iratio",
deviation=0,
minQuantity=0,
seed=TRUE,
showPlot=TRUE,
ylim        = c(0,1))
frqnc$frq
